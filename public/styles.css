:root{
  --bg:#0e0f12;
  --panel:#16181d;
  --muted:#1f232b;
  --text:#e8e8ea;
  --text-dim:#a7acb8;
  --primary:#4aa3ff;
  --primary-2:#2e7bd1;
  --success:#1fc67a;
  --warn:#ffc857;
  --danger:#ff5d5d;
  --focus:#30c4ff;
  --input:#0f1115;
  --chip:#ffbe3f;
  --border:#26365a;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius:14px;
  --radius-sm:10px;
  --radius-lg:18px;
  --gap:12px;
  --tap-min:44px;
  --fz:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:500 var(--fz)/1.35 system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
h1,h2,h3{margin:0 0 8px}
h1{font-size:22px}
h2{font-size:18px;color:var(--text-dim)}
a{color:var(--primary);text-decoration:none}
.container{
  max-width:1100px;
  margin:0 auto;
  padding:14px 16px 120px;
}
.topbar{
  position:sticky;top:0;z-index:50;
  background:linear-gradient(to bottom, rgba(14,15,18,.95), rgba(14,15,18,.85) 60%, transparent);
  backdrop-filter:saturate(1.2) blur(8px);
  padding:10px 16px 6px;
  border-bottom:1px solid var(--border);
}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.grow{flex:1}
.badge{
  background:var(--chip); color:var(--text-dim); padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--border)
}
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
  margin-top:14px;
}
.info-panel{padding:20px;display:flex}
.info-grid{display:flex;flex-direction:column;gap:18px;width:100%}
.info-copy{flex:2}
.lead{color:var(--text);font-size:15px;margin:0 0 12px;line-height:1.5}
.quick-hints{margin:0;padding-left:20px;color:var(--text-dim);font-size:14px;line-height:1.5}
.quick-hints li{margin-bottom:6px}
.quick-hints strong{color:var(--text)}
.lan-status{background:var(--muted);border:1px solid var(--border);border-radius:var(--radius-sm);padding:16px;display:flex;flex-direction:column;gap:10px;align-self:flex-start;min-width:240px}
.connection-status{font-size:14px;color:var(--success);display:flex;align-items:center;gap:8px;font-weight:700}
.connection-status::before{content:'â€¢';font-size:18px;color:currentColor}
.connection-status.is-pending{color:var(--warn)}
.connection-status.is-error{color:var(--danger)}
.lan-controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.lan-controls .btn{min-height:36px;padding:10px 12px}
.lan-target{font-size:13px;color:var(--text-dim)}
.lan-target code{background:#10131a;padding:4px 6px;border-radius:8px;color:var(--text);border:1px solid var(--border)}
.badge.provider-sql{background:rgba(74,163,255,.18);color:#aed4ff;border-color:rgba(74,163,255,.55)}
.badge.provider-coda{background:rgba(64,255,210,.18);color:#b4ffe8;border-color:rgba(64,255,210,.55)}
.btn[disabled]{opacity:.6;cursor:not-allowed}
@media (min-width:900px){
  .info-grid{flex-direction:row;justify-content:space-between;align-items:flex-start}
  .info-copy{max-width:60%}
  .lan-status{width:280px}
}
.grid{
  display:grid; gap:10px;
  grid-template-columns: repeat(12, 1fr);
}
.col-12{grid-column:span 12}
.col-6{grid-column:span 6}
.col-4{grid-column:span 4}
.col-3{grid-column:span 3}
.col-2{grid-column:span 2}
@media (max-width:900px){
  .col-6,.col-4,.col-3,.col-2{grid-column:span 12}
}
label{font-size:12px;color:var(--text-dim);display:block;margin:4px 0 6px}
input, select, textarea{
  width:100%;
  background:var(--input);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px 12px;
  min-height:var(--tap-min);
  outline:none;
  transition:.15s border, .15s box-shadow, .15s background;
  font:inherit;
}
#showDate, #showTime{
  background:
    linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 64%, rgba(255,255,255,.08) 82%, rgba(255,255,255,.16) 100%),
    var(--input);
  background-repeat:no-repeat;
  background-clip: padding-box;
}
textarea{min-height:84px; resize:vertical}
input:focus, select:focus, textarea:focus, .btn:focus-visible, .chip-input input:focus{
  border-color:var(--focus);
  box-shadow:0 0 0 3px rgba(154, 210, 255, 0.95);
}
.btn{
  background:var(--muted);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 14px;
  min-height:var(--tap-min);
  font-weight:700;
  cursor:pointer;
  transition:.15s transform, .15s background, .15s border-color;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}
.btn:hover{background:#232733}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--primary); border-color:var(--primary-2); color:#041423}
.btn.ghost{background:transparent}
.btn.icon-btn{width:var(--tap-min); height:var(--tap-min); display:inline-grid; place-items:center; border-radius:12px;}
.sticky-footer{
  position:fixed; inset:auto 0 0 0; z-index:60;
  background:linear-gradient(to top, rgba(22,24,29,.98), rgba(25, 30, 41, 0.96) 60%, rgba(29, 34, 47, 0.92));
  backdrop-filter:saturate(1.2) blur(8px);
  padding:10px 16px calc(16px + env(safe-area-inset-bottom));
  border-top:1px solid var(--border);
}
.footer-grid{
  display:grid; gap:10px;
  grid-template-columns: repeat(12, 1fr);
  max-width:1100px;margin:0 auto;
}
.footer-grid .btn{min-width:100%}
.footer-grid .span-2{grid-column:span 2}
.footer-grid .span-3{grid-column:span 3}
.footer-grid .span-4{grid-column:span 4}
@media (max-width:1100px){
  .footer-grid .span-2,.footer-grid .span-3,.footer-grid .span-4{grid-column:span 6}
}
@media (max-width:520px){
  .footer-grid .span-2,.footer-grid .span-3,.footer-grid .span-4{grid-column:span 12}
}

.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{
  background:var(--chip); border:1px solid var(--border);
  border-radius:999px; padding:8px 12px; min-height:var(--tap-min);
  display:inline-flex; align-items:center; gap:8px; color:var(--text);
}
.chip .x{background:transparent; border:none; color:var(--text-dim); cursor:pointer; font-size:18px; line-height:1; padding:0; width:24px; height:24px}
.chip-input{
  display:flex; align-items:center; flex-wrap:wrap; gap:8px; background:var(--input); border:1px solid var(--border);
  border-radius:10px; padding:8px; min-height:var(--tap-min);
}
.chip-input input{
  border:none;background:transparent; min-height:32px; padding:8px;
  flex:1; outline:none;
}

.pills{display:flex; gap:8px; flex-wrap:wrap}
.pill{
  border:1px solid var(--border); background:var(--chip); color:var(--text); border-radius:999px; padding:10px 14px;
  cursor:pointer; user-select:none; min-height:var(--tap-min); display:inline-flex; align-items:center; font-weight:700
}
.pill[aria-pressed="true"]{outline:4px solid rgba(154,209,255,.6); border-color:var(--focus); box-shadow:0 0 0 1px var(--focus)}
.pill.completed{background:rgba(31,198,122,.16); border-color:rgba(31,198,122,.55)}
.pill.nolaunch{background:rgba(255,93,93,.16); border-color:rgba(255,93,93,.55)}
.pill.abort{background:rgba(255,200,87,.16); border-color:rgba(255,200,87,.55)}

.hidden{display:none !important}
.error{color:#ff9b9b; font-size:12px; margin-top:6px}
.help{color:var(--text-dim); font-size:12px}

.details.group{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); margin-top:12px; overflow:hidden}

details.group > summary{
  list-style:none; cursor:pointer; padding:14px; background:linear-gradient(180deg, rgba(255,255,255,.02), transparent);
  display:flex; align-items:center; justify-content:space-between; gap:10px
}
details.group[open] > summary{border-bottom:1px solid var(--border)}
summary::-webkit-details-marker{display:none}
.group-title{font-weight:800}
.metrics{display:flex;gap:10px;flex-wrap:wrap;padding:10px 14px;background:#12141a}
.metric{
  background:var(--muted); border:1px solid var(--border); border-radius:12px; padding:8px 10px; font-size:13px; color:var(--text-dim)
}
.rows{display:grid; gap:8px; padding:12px}
.rowcard{
  display:grid; gap:8px; grid-template-columns: 50px 78px 100px 96px 1fr 120px 1fr 44px;
  background:#13161c; border:1px solid var(--border); border-radius:12px; padding:10px; align-items:center
}
@media (max-width:1000px){
  .rowcard{grid-template-columns:1fr 1fr; grid-auto-rows:auto}
}
.status-dot{width:10px;height:10px;border-radius:999px;display:inline-block;margin-right:8px}
.dot-success{background:var(--success)}
.dot-warn{background:var(--warn)}
.dot-danger{background:var(--danger)}

.menu{position:relative}
.menu-btn{background:var(--muted);border:1px solid var(--border); border-radius:10px; width:36px;height:36px; display:grid;place-items:center; cursor:pointer}
.menu-list{
  position:absolute; right:0; top:44px; background:#0f1217; border:1px solid var(--border); border-radius:12px; min-width:160px; z-index:10; box-shadow:var(--shadow);
  display:none
}
.menu[open] .menu-list{display:block}
.menu-item{display:block;width:100%; text-align:left; padding:12px 14px; background:transparent; border:0; color:var(--text); cursor:pointer}
.menu-item:hover{background:#171b23}

.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:80; padding:16px
}
.modal{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius-lg); width:min(820px, 100%); max-height:90vh; overflow:auto; padding:16px}
.modal-backdrop.open{display:flex}

.toast{
  position:fixed; left:50%; bottom:92px; transform:translateX(-50%);
  background:#0f131a; color:var(--text); border:1px solid var(--border); border-radius:999px; padding:12px 16px; z-index:100;
  box-shadow:var(--shadow); display:none
}
.toast.show{display:block; animation:fade .2s ease}
@keyframes fade{from{opacity:0; transform:translateX(-50%) translateY(6px)} to{opacity:1; transform:translateX(-50%) translateY(0)}}

.toolbar{display:flex; gap:10px; align-items:center; justify-content:space-between}
.subtitle{color:var(--text-dim)}
.sep{height:1px;background:var(--border);margin:10px 0}
.config{
  position:fixed; right:16px; top:54px; width:min(420px, 92vw); background:var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:14px; z-index:70; display:none; box-shadow:var(--shadow)
}
.config.open{display:block}
.provider-fields{border:1px solid var(--border); border-radius:12px; padding:12px}
.provider-fields legend{font-weight:700}
.switch{display:inline-flex; align-items:center; gap:8px}
.switch input{width:auto; min-height:auto}
.inline{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.actions-chips{display:flex; gap:8px; flex-wrap:wrap}
.action-chip{
  border:1px solid var(--border); border-radius:999px; padding:8px 12px; background:var(--chip); cursor:pointer; user-select:none
}
.action-chip[aria-pressed="true"]{outline:3px solid rgba(154,209,255,.25); border-color:var(--focus)}
.kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:#0d0f14; border:1px solid var(--border); padding:2px 6px; border-radius:6px; color:var(--text-dim)}
.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

#configMessage{min-height:20px}
