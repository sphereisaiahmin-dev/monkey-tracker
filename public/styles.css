:root{
  --bg:#0e0f12;
  --panel:#16181d;
  --muted:#1f232b;
  --text:#e8e8ea;
  --text-dim:#a7acb8;
  --primary:#4aa3ff;
  --primary-2:#2e7bd1;
  --success:#1fc67a;
  --warn:#ffc857;
  --danger:#ff5d5d;
  --focus:#30c4ff;
  --input:#0f1115;
  --chip:#ffbe3f;
  --border:#26365a;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius:14px;
  --radius-sm:10px;
  --radius-lg:18px;
  --gap:12px;
  --tap-min:44px;
  --fz:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:500 var(--fz)/1.35 system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
h1,h2,h3{margin:0 0 8px}
h1{font-size:22px}
h2{font-size:18px;color:var(--text-dim)}
a{color:var(--primary);text-decoration:none}
.container{
  max-width:1100px;
  margin:0 auto;
  padding:14px 16px 48px;
}
#roleHome{display:none}
body.view-lead #roleHome,
body.view-pilot #roleHome{display:inline-flex}
#viewBadge{display:none}
body.view-lead #viewBadge,
body.view-pilot #viewBadge{display:inline-flex}
body.view-landing #refreshShows{display:none}
.view-lead-only,
.view-pilot-only,
.view-landing-only{display:none !important}
body.view-lead .view-lead-only{display:block !important}
body.view-pilot .view-pilot-only{display:block !important}
body.view-landing .view-landing-only{display:block !important}
#landingView{display:none;text-align:center;padding:38px 20px}
body.view-landing #landingView{display:block}
.role-options{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:22px}
.role-btn{min-width:160px;font-size:18px;padding:18px 26px}
.view-badge{
  background:transparent;
  border:none;
  color:#aed4ff;
  font-size:12px;
  font-weight:700;
  display:inline-flex;
  align-items:center;
  gap:6px;
  text-transform:uppercase;
  letter-spacing:0.08em;
  padding:0;
}
.view-badge::before{
  content:'•';
  font-size:14px;
  line-height:1;
  color:var(--primary);
}
.view-badge-pilot{
  color:#bff7d9;
}
.view-badge-pilot::before{
  color:var(--success);
}
#pilotShowSummary{margin-top:8px;padding:10px 12px;border:1px dashed var(--border);border-radius:10px;background:rgba(255,255,255,.03);color:var(--text-dim);font-size:13px;text-align:left}
.topbar{
  position:sticky;top:0;z-index:50;
  background:linear-gradient(to bottom, rgba(14,15,18,.95), rgba(14,15,18,.85) 60%, transparent);
  backdrop-filter:saturate(1.2) blur(8px);
  padding:10px 16px 6px;
  border-bottom:1px solid var(--border);
}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.grow{flex:1}
.badge{
  background:var(--chip); color:var(--text-dim); padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--border)
}
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
  margin-top:14px;
  position:relative;
  animation:panelIn .45s ease;
  transition:transform .25s ease, box-shadow .25s ease;
}
.panel:hover{transform:translateY(-2px); box-shadow:0 16px 40px rgba(0,0,0,.45);}
.info-panel{padding:20px;display:flex}
.info-grid{display:flex;flex-direction:column;gap:18px;width:100%}
.info-copy{flex:2}
.lead{color:var(--text);font-size:15px;margin:0 0 12px;line-height:1.5}
.quick-hints{margin:0;padding-left:20px;color:var(--text-dim);font-size:14px;line-height:1.5}
.quick-hints li{margin-bottom:6px}
.quick-hints strong{color:var(--text)}
.lan-status{background:var(--muted);border:1px solid var(--border);border-radius:var(--radius-sm);padding:16px;display:flex;flex-direction:column;gap:10px;align-self:flex-start;min-width:240px}
.connection-status{font-size:14px;color:var(--success);display:flex;align-items:center;gap:8px;font-weight:700}
.connection-status::before{content:'•';font-size:18px;color:currentColor}
.connection-status.is-pending{color:var(--warn)}
.connection-status.is-error{color:var(--danger)}
.lan-controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.lan-controls .btn{min-height:36px;padding:10px 12px}
.lan-target{font-size:13px;color:var(--text-dim)}
.lan-target code{background:#10131a;padding:4px 6px;border-radius:8px;color:var(--text);border:1px solid var(--border)}
.badge.provider-sql{background:rgba(74,163,255,.18);color:#aed4ff;border-color:rgba(74,163,255,.55)}
.badge.badge-webhook-on{background:rgba(31,198,122,.22);color:#bef8dd;border-color:rgba(31,198,122,.55);animation:pulseGlow 2.6s ease-in-out infinite}
.badge.badge-webhook-off{background:rgba(255,255,255,.06);color:var(--text-dim);border-color:rgba(255,255,255,.12);border-style:dashed}
.btn[disabled]{opacity:.6;cursor:not-allowed}
@media (min-width:900px){
  .info-grid{flex-direction:row;justify-content:space-between;align-items:flex-start}
  .info-copy{max-width:60%}
  .lan-status{width:280px}
}
.grid{
  display:grid; gap:10px;
  grid-template-columns: repeat(12, 1fr);
}
.col-12{grid-column:span 12}
.col-6{grid-column:span 6}
.col-4{grid-column:span 4}
.col-3{grid-column:span 3}
.col-2{grid-column:span 2}
@media (max-width:900px){
  .col-6,.col-4,.col-3,.col-2{grid-column:span 12}
}
label{font-size:12px;color:var(--text-dim);display:block;margin:4px 0 6px}
input, select, textarea{
  width:100%;
  background:var(--input);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px 12px;
  min-height:var(--tap-min);
  outline:none;
  transition:.15s border, .15s box-shadow, .15s background;
  font:inherit;
}
input:disabled, select:disabled, textarea:disabled{opacity:.55; cursor:not-allowed}
#showDate, #showTime{
  background:
    linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 64%, rgba(255,255,255,.08) 82%, rgba(255,255,255,.16) 100%),
    var(--input);
  background-repeat:no-repeat;
  background-clip: padding-box;
}
textarea{min-height:84px; resize:vertical}
select[multiple]{
  min-height:160px;
}
.list-input{
  min-height:140px;
  font-size:14px;
  line-height:1.4;
}
input:focus, select:focus, textarea:focus, .btn:focus-visible, .chip-input input:focus{
  border-color:var(--focus);
  box-shadow:0 0 0 3px rgba(154, 210, 255, 0.95);
}
.btn{
  background:var(--muted);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 14px;
  min-height:var(--tap-min);
  font-weight:700;
  cursor:pointer;
  transition:.15s transform, .15s background, .15s border-color;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}
.btn:hover{background:#232733}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--primary); border-color:var(--primary-2); color:#041423}
.btn.ghost{background:transparent}
.btn.icon-btn{width:var(--tap-min); height:var(--tap-min); display:inline-grid; place-items:center; border-radius:12px;}
.hamburger-btn{padding:0;}
.hamburger-icon{display:inline-flex; flex-direction:column; gap:4px; align-items:center; justify-content:center;}
.hamburger-icon span{display:block; width:20px; height:2px; background:var(--text); border-radius:999px;}
.hamburger-btn:is(:hover,:focus-visible) .hamburger-icon span,
.hamburger-btn.is-active .hamburger-icon span{background:var(--primary);}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{
  background:var(--chip); border:1px solid var(--border);
  border-radius:999px; padding:8px 12px; min-height:var(--tap-min);
  display:inline-flex; align-items:center; gap:8px; color:var(--text);
}
.chip .x{background:transparent; border:none; color:var(--text-dim); cursor:pointer; font-size:18px; line-height:1; padding:0; width:24px; height:24px}
.chip-input{
  display:flex; align-items:center; flex-wrap:wrap; gap:8px; background:var(--input); border:1px solid var(--border);
  border-radius:10px; padding:8px; min-height:var(--tap-min);
}
.chip-input input{
  border:none;background:transparent; min-height:32px; padding:8px;
  flex:1; outline:none;
}

.pills{display:flex; gap:8px; flex-wrap:wrap}
.pill{
  border:1px solid var(--border); background:var(--chip); color:var(--text); border-radius:999px; padding:10px 14px;
  cursor:pointer; user-select:none; min-height:var(--tap-min); display:inline-flex; align-items:center; font-weight:700
}
.pill[aria-pressed="true"]{outline:4px solid rgba(154,209,255,.6); border-color:var(--focus); box-shadow:0 0 0 1px var(--focus)}
.pill.completed{background:rgba(31,198,122,.16); border-color:rgba(31,198,122,.55)}
.pill.nolaunch{background:rgba(255,93,93,.16); border-color:rgba(255,93,93,.55)}
.pill.abort{background:rgba(255,200,87,.16); border-color:rgba(255,200,87,.55)}

.hidden{display:none !important}
.error{color:#ff9b9b; font-size:12px; margin-top:6px}
.help{color:var(--text-dim); font-size:12px}

.details.group{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); margin-top:12px; overflow:hidden}

details.group > summary{
  list-style:none; cursor:pointer; padding:14px; background:linear-gradient(180deg, rgba(255,255,255,.02), transparent);
}
details.group > summary .group-summary{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.group-summary-meta{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
.show-menu-wrap{position:relative}
.show-menu-btn{width:36px; height:36px; padding:0; min-height:36px;}
.show-menu{position:absolute; right:0; top:calc(100% + 8px); background:var(--panel); border:1px solid var(--border); border-radius:12px; min-width:170px; box-shadow:var(--shadow); padding:8px; display:flex; flex-direction:column; gap:4px; opacity:0; pointer-events:none; transform:translateY(-6px); transition:opacity .2s ease, transform .2s ease; max-height:240px; overflow:auto; z-index:30;}
.show-menu-wrap.open .show-menu{opacity:1; pointer-events:auto; transform:translateY(0);}
.show-menu .menu-item{background:transparent; border:0; text-align:left; color:var(--text); padding:10px 12px; border-radius:10px; cursor:pointer; font:inherit;}
.show-menu .menu-item:hover{background:#171b23}

.menu{position:relative; display:inline-flex; align-items:center;}
.menu-btn{
  border:0;
  background:transparent;
  color:var(--text-dim);
  width:32px;
  height:32px;
  border-radius:50%;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:background .2s ease, color .2s ease;
}
.menu-btn:hover,
.menu[open] .menu-btn{
  background:rgba(255,255,255,.08);
  color:var(--text);
}
.menu-list{
  position:absolute;
  right:0;
  top:calc(100% + 6px);
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:10px;
  min-width:150px;
  box-shadow:var(--shadow);
  padding:6px;
  display:none;
  flex-direction:column;
  gap:4px;
  z-index:40;
}
.menu[open] .menu-list{display:flex;}
.menu-list .menu-item{
  background:transparent;
  border:0;
  color:var(--text);
  text-align:left;
  padding:8px 10px;
  border-radius:8px;
  cursor:pointer;
  font:inherit;
}
.menu-list .menu-item:hover{background:#171b23;}
details.group[open] > summary{border-bottom:1px solid var(--border)}
summary::-webkit-details-marker{display:none}
.group-title{font-weight:800}
.metrics{display:flex;gap:10px;flex-wrap:wrap;padding:10px 14px;background:#12141a}
.metric{
  background:var(--muted); border:1px solid var(--border); border-radius:12px; padding:8px 10px; font-size:13px; color:var(--text-dim)
}
.rows{display:grid; gap:8px; padding:12px}
.rowcard{
  display:grid; gap:8px; grid-template-columns: 50px 78px 100px 96px 1fr 120px 1fr 44px;
  background:#13161c; border:1px solid var(--border); border-radius:12px; padding:10px; align-items:center
}
@media (max-width:1000px){
  .rowcard{grid-template-columns:1fr 1fr; grid-auto-rows:auto}
}
.status-dot{width:10px;height:10px;border-radius:999px;display:inline-block;margin-right:8px}
.dot-success{background:var(--success)}
.dot-warn{background:var(--warn)}
.dot-danger{background:var(--danger)}

.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:80; padding:16px
}
.modal{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius-lg); width:min(820px, 100%); max-height:90vh; overflow:auto; padding:16px}
.modal-backdrop.open{display:flex}

.toast{
  position:fixed; left:50%; bottom:32px; transform:translateX(-50%);
  background:#0f131a; color:var(--text); border:1px solid var(--border); border-radius:999px; padding:12px 16px; z-index:100;
  box-shadow:var(--shadow); display:none
}
.toast.show{display:block; animation:fade .2s ease}
@keyframes fade{from{opacity:0; transform:translateX(-50%) translateY(6px)} to{opacity:1; transform:translateX(-50%) translateY(0)}}
@keyframes panelIn{from{opacity:0; transform:translateY(18px)} to{opacity:1; transform:translateY(0)}}
@keyframes pulseGlow{0%{box-shadow:0 0 0 0 rgba(31,198,122,.0)}50%{box-shadow:0 0 0 8px rgba(31,198,122,.18)}100%{box-shadow:0 0 0 0 rgba(31,198,122,.0)}}

.toolbar{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.panel-header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; flex-wrap:wrap}
.panel-actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.entry-actions{display:flex; justify-content:flex-end; margin-top:4px}
.entry-actions .btn{min-width:160px}
@media (max-width:600px){
  .entry-actions{justify-content:stretch}
  .entry-actions .btn{width:100%}
}
.subtitle{color:var(--text-dim)}
.sep{height:1px;background:var(--border);margin:10px 0}
.config{
  position:fixed; right:16px; top:54px; width:min(420px, 92vw); background:var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:14px; z-index:70; box-shadow:var(--shadow);
  opacity:0; transform:translateY(-12px) scale(.98);
  pointer-events:none; visibility:hidden;
  transition:opacity .25s ease, transform .25s ease;
  max-height:calc(100vh - 80px);
  overflow:auto;
}
.config.open{
  opacity:1; transform:translateY(0) scale(1);
  pointer-events:auto; visibility:visible;
}
.provider-fields{border:1px solid var(--border); border-radius:12px; padding:12px}
.provider-fields legend{font-weight:700}
.switch{display:inline-flex; align-items:center; gap:8px}
.switch input{width:auto; min-height:auto}
.switch span{font-weight:600; color:var(--text)}
.inline{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.actions-chips{display:flex; gap:8px; flex-wrap:wrap}
.action-chip{
  border:1px solid var(--border); border-radius:999px; padding:8px 12px; background:var(--chip); cursor:pointer; user-select:none
}
.action-chip[aria-pressed="true"]{outline:3px solid rgba(154,209,255,.25); border-color:var(--focus)}
.kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:#0d0f14; border:1px solid var(--border); padding:2px 6px; border-radius:6px; color:var(--text-dim)}
.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

#configMessage{min-height:20px}

.webhook-preview{
  margin-top:12px;
  background:rgba(255,255,255,.02);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
  transition:opacity .25s ease, filter .25s ease;
}
.webhook-preview.is-disabled{opacity:.55; filter:saturate(.4)}
.webhook-status{font-size:13px; color:var(--text-dim); display:flex; align-items:center; gap:10px; font-weight:600}
.webhook-status::before{content:""; width:10px; height:10px; border-radius:50%; background:var(--warn); box-shadow:0 0 0 6px rgba(255,200,87,.16)}
.webhook-status.is-on{color:#bff7dc}
.webhook-status.is-on::before{background:var(--success); box-shadow:0 0 0 6px rgba(31,198,122,.18)}
.webhook-status.is-off::before{background:var(--warn)}
.webhook-table-wrap{overflow:auto; border-radius:10px; border:1px solid rgba(255,255,255,.08)}
.webhook-table{width:100%; min-width:720px; border-collapse:separate; border-spacing:0; font-size:13px}
.webhook-table th,.webhook-table td{padding:8px 10px; border-bottom:1px solid rgba(255,255,255,.06); border-right:1px solid rgba(255,255,255,.04)}
.webhook-table th{background:rgba(15,18,24,.92); position:sticky; top:0; text-transform:uppercase; letter-spacing:.04em; font-size:11px; color:var(--text-dim)}
.webhook-table tr:last-child td{border-bottom:none}
.webhook-table td:last-child,.webhook-table th:last-child{border-right:none}
.webhook-table tbody tr:hover{background:rgba(74,163,255,.08)}
